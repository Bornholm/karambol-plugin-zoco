<div class="row">
  {% set currentPage = offset/limit %}
  {% set totalPages = total/limit %}
  {% set hasPrev = currentPage > 0 %}
  {% set hasNext = offset+limit < total %}
  <div class="col-md-12">
    <nav style="text-align: center;">
      <ul class="pagination">
        <li {% if not hasPrev %}class="disabled"{% endif %}>
          <a {% if currentPage > 0 %}href="?q={{search|url_encode}}&p={{currentPage-1}}&l={{limit}}"{% endif %} aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {% for page in currentPage-3..currentPage+3 %}
          {% if page < totalPages and page >= 0 %}
          <li {% if currentPage == page %}class="active"{% endif %}>
            <a href="?q={{search|url_encode}}&p={{page}}&l={{limit}}">{{page}}</a>
          </li>
          {% endif %}
        {% endfor %}
        <li {% if not hasNext %}class="disabled"{% endif %}>
          <a {% if hasNext %}href="?q={{search|url_encode}}&p={{currentPage+1}}&l={{limit}}"{% endif %} aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
</div>
